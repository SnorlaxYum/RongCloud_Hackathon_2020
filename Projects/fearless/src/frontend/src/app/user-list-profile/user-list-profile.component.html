<div *ngIf="err.length else user">
    {{err}}
</div>
<ng-template #user>
    <mat-card>
        <mat-card-header>
          <mat-card-title>{{curUserInfo.nickname}}的个人资料</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <table>
                <tbody>
                    <tr><td>Name: </td><td>{{curUserInfo.nickname}}</td></tr>
                    <tr><td>Portrait URI: </td><td>{{curUserInfo.portraitUri}}</td></tr>
                    <tr><td>Is Admin: </td><td>{{curUserInfo.isAdmin}}</td></tr>
                </tbody>
            </table>
        </mat-card-content>
        <mat-card-actions>
            <button *ngIf="finalUserInfo().isAdmin || finalUserInfo().userID == curUserInfo.userID" [routerLink]="finalUserInfo().userID == curUserInfo.userID ? ['/editInfo', {from: from}] : ['/editInfo', curUserInfo.userID, {from: from}]" mat-button>编辑</button>
            <button (click)="curUserInfo.relation == 1 ? changeRelation(0) : changeRelation(1)" mat-button>{{curUserInfo.relation == 1 ? '解除好友关系' : '加为好友'}}</button>
            <button *ngIf="curUserInfo.relation == 1" [routerLink]="['/singleChat', {chat: curUserInfo.userID, chatnick: curUserInfo.nickname, chatpor: curUserInfo.portraitUri, chatrel: curUserInfo.relation}]" mat-button>开始聊天</button>
            <button (click)="curUserInfo.relation == -1 ? changeRelation(0) : changeRelation(-1)" mat-button>{{curUserInfo.relation == -1 ? '从黑名单中移除' : '加入黑名单'}}</button>
        </mat-card-actions>
    </mat-card>    
</ng-template>
